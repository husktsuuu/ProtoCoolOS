<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="stylesAsignacion.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <script src="asignacionBack.js"></script>
    <script src="tutoAsig.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Asignacion</title>
</head>

<body>

    <div class="main">
        <!-- Navbar -->
        <div class="navbar">
            <a href="#" class="logo">Ratatuil</a>
            <!--
            <div class="nav-links">
                <span class="item selected">Home</span>
            </div>
            -->
            <div class="nav-buttons" id="navMenu">
                <a href="../index.html">
                    <button class="nav-btn">HOME</button>
                </a>
                <a href="../Grafos1/indexGrafos.html">
                    <button class="nav-btn">GRAFOS</button>
                </a>
                <a href="../Johnson/indexJohnson.html">
                    <button class="nav-btn">JOHNSON</button>
                </a>
                <a href="../Asigancion/indexAsignacion.html">
                    <button class="nav-btn">ASIGNACIÓN</button>
                </a>
                <a href="../NorthWest/indexNorth.html">
                    <button class="nav-btn">NORTH WEST</button>
                </a>
                <a href="../Sort/indexSort.html">
                    <button class="nav-btn selected">SORT</button>
                </a>
                <a href="../ArbolBinario/indexArbol.html">
                    <button class="nav-btn">ARBOL BINARIO</button>
                </a>
                <a href="../Kruskal/indexKruskal.html">
                    <button class="nav-btn">KRUSKAL</button>
                </a>
            </div>

            <!--<button class="toggler">
                <i class='bx bx-menu'></i>
            </button>-->
        </div>
        <!-- End of Navbar -->

        <!-- Top Container -->

        <div id="logo"></div>
        <div id="contenedor-general">

            <div id="grafo-container"></div>

            <div id="matriz-container">
                <table id="matriz-adyacencia">
                    <thead>
                        <tr id="matriz-header">
                            <!-- Cabeceras de la matriz se llenarán dinámicamente -->
                        </tr>
                    </thead>
                    <tbody id="matriz-body">
                        <!-- Cuerpo de la matriz se llenará dinámicamente -->
                    </tbody>
                </table>
            </div>
            <div id="flecha-punta"></div>

        </div>

        <div style="margin-top: 20px;">
            <label for="cambiarColorBtn" style="color: black; margin-right: 5px;">Color de Nodo:</label>
            <input type="color" id="cambiarColorBtn" value="#d2e5ff">
            <!-- Botón Eliminar -->
            <button id="eliminarBtn" style="margin-left: 10px;">Eliminar</button>
            <button id="limpiarBtn" style="margin-left: 10px;">Limpiar</button>
        </div>

        <button id="guardarBtn">Exportar</button>
        <div id="exportOptions"
            style="display:none; position: absolute; background-color: #252954; padding: 10px; border-radius: 5px; margin-top: 5px;">
            <button id="exportPNG">PNG</button>
            <button id="exportPDF">PDF</button>
            <button id="exportJSON">JSON (editable)</button>
        </div>
        <button id="cargarBtn">Importar</button>
        <button id="minimizarBtn">Minimizar</button>
        <button id="maximizarBtn">Maximizar</button>
        <div id="resultado-container"></div>
        <input type="file" id="importarArchivo" style="display: none;" accept=".json">

        <!-- End of Top Container -->

        <!-- Botón help -->

        <button id="helpBtn">?</button>

        <div id="overlay" class="hidden"></div>

        <div id="helpPopup" class="hidden">
            <h2>Ayuda Asignacion</h2>
            <h3>1. Creación de nodos</h3>
            <p>
                • Haga clic en un espacio vacío dentro del grafo.<br>
                • Asigne un nombre al nodo cuando el sistema lo solicite.
            </p>

            <h3>2. Creación de aristas</h3>
            <p>
                • Haga clic en un nodo origen y luego en un nodo destino.<br>
                • Ingrese el valor numérico (costo) de la arista.<br>
                • El sistema evita aristas duplicadas automáticamente.
            </p>

            <h3>3. Edición de nodos y aristas</h3>
            <p>
                • Clic derecho sobre un nodo para cambiar su nombre.<br>
                • Clic derecho sobre una arista para modificar su valor.
            </p>

            <h3>4. Eliminación de elementos</h3>
            <p>
                • Active el modo Eliminar usando el botón correspondiente.<br>
                • Haga clic sobre un nodo o una arista para eliminarla.<br>
                • Desactive el modo Eliminar volviendo a presionar el botón.
            </p>

            <h3>5. Cambio de color de los nodos</h3>
            <p>
                • Utilice el selector de color para definir el color que se aplicará a nuevos nodos.
            </p>

            <h3>6. Matriz de costos</h3>
            <p>
                • La matriz se genera automáticamente a partir de las aristas creadas.<br>
                • Las filas representan los nodos origen y las columnas los nodos destino.<br>
                • La matriz se actualiza en tiempo real con cada modificación.
            </p>

            <h3>7. Algoritmo de Asignación (Método Húngaro)</h3>
            <p>
                • Minimizar: calcula la asignación con el menor costo posible.<br>
                • Maximizar: calcula la asignación con el mayor beneficio posible.<br>
                • El sistema resalta automáticamente la solución en la matriz y en el grafo.
            </p>

            <h3>8. Visualización de resultados</h3>
            <p>
                • Se muestra la asignación óptima, indicando qué nodo se asigna a cuál y con qué valor.<br>
                • Se muestra la suma total de los valores asignados.<br>
                • Las celdas involucradas se resaltan en la matriz.<br>
                • Las aristas seleccionadas se destacan visualmente en el grafo.
            </p>

            <h3>9. Exportación de datos</h3>
            <p>
                • Exportar como PNG: genera una imagen del grafo.<br>
                • Exportar como PDF: genera un documento con el grafo.<br>
                • Exportar como JSON: guarda el grafo completo (nodos, aristas y estado) para edición futura.
            </p>

            <h3>10. Importación de datos</h3>
            <p>
                • Permite cargar un archivo JSON previamente guardado para restaurar el grafo y la matriz.
            </p>

            <h3>11. Limpieza del grafo</h3>
            <p>
                • Borra todos los nodos, aristas y datos generados.<br>
                • Restablece por completo la matriz de costos y la sección de resultados.
            </p>

        </div>


        <!-- End of Botón help -->

    </div>

</body>

</html>